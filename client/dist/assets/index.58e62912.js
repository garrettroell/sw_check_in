var Q=Object.defineProperty,X=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var U=(n,t,r)=>t in n?Q(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S=(n,t)=>{for(var r in t||(t={}))te.call(t,r)&&U(n,r,t[r]);if(P)for(var r of P(t))ne.call(t,r)&&U(n,r,t[r]);return n},C=(n,t)=>X(n,ee(t));import{j as e,B as l,a as i,H as y,L as E,I as re,u as v,b as o,c as G,d as H,e as z,F as ie,M as oe,S as se,f as V,r as b,g as ae,h as m,i as Y,k as q,l as g,m as _,n as N,o as L,p as T,A as ce,q as le,s as he,t as de,v as pe,w as ue,x as D,y as B,z as O,C as xe,D as me,E as fe,V as A,T as ge,G as be,R as we,J as Se,K as ye,N as ke,O as Ce,P as M}from"./vendor.581cca6f.js";const ve=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&h(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function h(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};ve();var ze="/assets/shoutless.522ece2c.png",Fe="/assets/shoutless_white.4cb23334.png";const R=()=>e(l,{maxW:"1000px",m:"auto",px:"5px",children:i(y,{h:"100px",justify:"space-between",align:"center",children:[e(E,{to:"/",children:e(l,{boxSize:"md",w:"225px",h:"41px",children:e(re,{src:v(ze,Fe),alt:"Website logo"})})}),e(E,{to:"/about",children:e(o,{fontSize:"18px",color:v("#304BB3","white"),_hover:{color:"#F5C14D"},children:"About"})})]})}),W=()=>{const{colorMode:n,toggleColorMode:t}=G(),r=new Date().getFullYear();return i(y,{position:"fixed",bottom:"0px",left:"0px",width:"100vw",height:"50px",bg:"#304BB3",justify:"space-between",px:"40px",children:[e(o,{fontSize:"16px",color:"white",children:i(H,{href:"https://garrettroell.com",_hover:{color:"#F5C14D"},isExternal:!0,children:["Garrett Roell ",r]})}),i(y,{children:[e(H,{href:"https://github.com/garrettroell/sw_check_in",isExternal:!0,children:e(z,{variant:"outline",children:e(ie,{color:"white"})})}),e(z,{onClick:t,variant:"outline",children:n==="light"?e(oe,{w:4,h:4,p:"0",color:"white"}):e(se,{w:4,h:4,px:"0"})})]})]})};function I(){return"https://sw-server.garrettroell.com"}const _e=()=>{const n=V(),t=b.exports.useRef(),r=b.exports.useRef(null);let h=ae();const[s,a]=b.exports.useState(!1),[u,k]=b.exports.useState(!1);function w(d){let c;return d||(c="This field is required"),c}function F(d){let c;return d?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(d)||(c="Invalid email address"):c=null,c}return i(m,{children:[e(o,{mt:"75px",textAlign:"center",fontSize:"16px",children:"Add your Southwest trip details, and this site will check you in seconds after the check in window opens."}),e(y,{maxW:"350px",m:"auto",h:"15px",bg:"#C3322C",transform:"translateY(35px)",borderTopRadius:"15px",children:e(l,{h:"100%",w:"50%",bg:"#F5C14D",borderTopLeftRadius:"15px"})}),e(l,{maxW:"350px",m:"auto",mt:"20px",p:"20px",borderWidth:"1px",borderRadius:"15px",children:e(Y,{initialValues:{firstName:"",lastName:"",confirmationNumber:"",email:""},onSubmit:(d,c)=>{a(!0),t.current=n({title:"Getting data from Southwest",status:"info",isClosable:!0,duration:2e4}),fetch(`${I()}/set-up`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S({},d))}).then(p=>{p.json().then(f=>{Object.keys(f).length>0?(console.log("flights",f,Object.keys(f).length),c.setSubmitting(!1),t.current&&n.close(t.current),h("/success",{state:C(S({},d),{flights:f})})):(c.setSubmitting(!1),t.current&&n.close(t.current),t.current=n({title:"Southwest reserveration was not found.",status:"error",isClosable:!0}))})}).catch(p=>{console.log(p),c.setSubmitting(!1),t.current&&n.close(t.current),t.current=n({title:p,status:"info",isClosable:!0})})},children:d=>i(q,{onChange:c=>{c.target.id==="email"&&c.target.value!==""&&k(!0)},children:[e(g,{h:"15px"}),e(_,{name:"firstName",validate:w,children:({field:c,form:p})=>i(N,{isInvalid:p.errors.firstName&&p.touched.firstName,children:[e(L,{htmlFor:"firstName",fontSize:"sm",mb:"0px",children:"First Name"}),e(T,C(S({},c),{id:"firstName",placeholder:"",px:"10px",h:"35px",minW:"100%",fontSize:"14px",_autofill:{textFillColor:v("rgb(26, 32, 44)","white"),boxShadow:"0 0 0px 1000px #00000000 inset",transition:"background-color 5000s ease-in-out 0s"}}))]})}),e(g,{h:"15px"}),e(_,{name:"lastName",validate:w,children:({field:c,form:p})=>i(N,{isInvalid:p.errors.lastName&&p.touched.lastName,children:[e(L,{htmlFor:"lastName",fontSize:"sm",mb:"0px",children:"Last Name"}),e(T,C(S({},c),{id:"lastName",placeholder:"",px:"10px",h:"35px",minW:"100%",fontSize:"14px",_autofill:{textFillColor:v("rgb(26, 32, 44)","white"),boxShadow:"0 0 0px 1000px #00000000 inset",transition:"background-color 5000s ease-in-out 0s"}}))]})}),e(g,{h:"15px"}),e(_,{name:"confirmationNumber",validate:w,children:({field:c,form:p})=>i(N,{isInvalid:p.errors.confirmationNumber&&p.touched.confirmationNumber,children:[e(L,{htmlFor:"confirmationNumber",fontSize:"sm",mb:"0px",children:"Confirmation Number"}),e(T,C(S({},c),{id:"confirmationNumber",placeholder:"",px:"10px",h:"35px",minW:"100%",fontSize:"14px",_autofill:{textFillColor:v("rgb(26, 32, 44)","white"),boxShadow:"0 0 0px 1000px #00000000 inset",transition:"background-color 5000s ease-in-out 0s"}}))]})}),e(g,{h:"25px"}),e(_,{name:"email",validate:F,children:({field:c,form:p})=>e(N,{isInvalid:p.errors.email&&p.touched.email,onBlur:()=>{p.values.email===""&&k(!1)},children:e(l,{h:u?"35px":"0px",children:e(T,C(S({},c),{id:"email",ref:r,placeholder:"",px:"10px",borderWidth:u?"1px":"0px",minW:"100%",maxH:"35px",fontSize:"14px",_autofill:{textFillColor:v("rgb(26, 32, 44)","white"),boxShadow:"0 0 0px 1000px #00000000 inset",transition:"background-color 5000s ease-in-out 0s"}}))})})}),e(z,{display:u?"none":"",variant:"ghost",m:"0px",h:"35px",w:"100%",borderWidth:"1px",fontSize:"14px",onClick:()=>{k(!0),r.current.focus()},children:"Optionally, add your email address"}),e(o,{fontSize:"11px",opacity:"0.8",mt:"6px",textAlign:"center",children:"We'll only use this to deliver your boarding pass"}),e(g,{h:"30px"}),e(z,{type:"submit",bg:"#304BB3",color:"white",isLoading:d.isSubmitting,m:"auto",w:"100%",children:"Set up automatic check in"})]})})}),s?i(ce,{status:"warning",maxW:"520px",margin:"auto",px:"10px",children:[e(le,{}),e(he,{children:"Heads up!"}),e(de,{children:"This site is still experimental, so there may be errors"})]}):e(m,{})]})},Ne=({checkInResults:n})=>{const{colorMode:t}=G(),r=b.exports.useRef(),h=pe(r,!0);let s;h&&(s=h.borderBox.width);let a={A_1_to_30:0,A_31_to_60:0,B_1_to_30:0,B_31_to_60:0,C_1_to_30:0,C_31_to_60:0};n.forEach(f=>{const x=f.positionNumber;x<=30?a.A_1_to_30=1:x>30&&x<=60?a.A_31_to_60+=1:x>60&&x<=90?a.B_1_to_30+=1:x>90&&x<=120?a.B_31_to_60+=1:x>120&&x<=150?a.C_1_to_30+=1:x>150&&x<=180&&(a.C_31_to_60+=1)});const u=Math.max(...Object.values(a)),k=u/n.length,w=Math.ceil(10*k)/10;console.log(u,k,w),Object.keys(a).forEach(f=>{a[f]=a[f]/(w*n.length)}),console.log(a);const F=200,d=s?Math.min(600,s):600,c=d/10,p=(d-6*c)/12;return e(m,{children:e(l,{px:"30px",children:i(l,{ref:r,maxW:d,m:"auto",my:"40px",borderLeft:"2px",position:"relative",children:[e(o,{fontSize:"16",position:"absolute",top:"75",left:"-20",transform:"rotate(-90deg)",children:"Frequency (%)"}),i(o,{fontSize:"16",position:"absolute",top:"0",left:"-12",children:[100*w,"%"]}),e(l,{position:"absolute",borderTop:"2px",w:"8px",h:"2px",top:"8px",left:"-8px"}),i("svg",{width:d,height:F,children:[e("title",{id:"title",children:"A bar chart showing the performance of the check in site"}),Object.keys(a).map((f,x)=>{const $=F*a[f],Z=F-$,K=(x*2+1)*p+x*c;return e("g",{children:e("rect",{width:c,height:$,x:K,y:Z,fill:t==="light"?"black":"#ffffff",style:{color:"#ffffff"}})},x)})]}),i(y,{spacing:"0px",pt:"5px",borderTop:"2px solid",children:[e(o,{fontSize:d>500?"14px":"10px",w:"100%",children:"A1 - A30"}),e(o,{fontSize:d>500?"14px":"10px",w:"100%",children:"A31 - A60"}),e(o,{fontSize:d>500?"14px":"10px",w:"100%",children:"B1 - B30"}),e(o,{fontSize:d>500?"14px":"10px",w:"100%",children:"B31 - B60"}),e(o,{fontSize:d>500?"14px":"10px",w:"100%",children:"C1 - C30"}),e(o,{fontSize:d>500?"14px":"10px",w:"100%",children:"C31 - C60"})]})]})})})},Ae=({checkInResults:n})=>e(m,{children:e(Ne,{checkInResults:n})});function Te(n){const t=["th","st","nd","rd"],r=n%100;return n+(t[(r-20)%10]||t[r]||t[0])}function J(n){const t=["","January","February","March","April","May","June","July","August","September","October","November","December"];if(Object.keys(n).length===0)return"";{const r=n.checkInUTCString.split("-")[0],h=t[parseInt(n.checkInUTCString.split("-")[1])],s=Te(parseInt(n.checkInUTCString.split("-")[2].split("T")[0]));return`Most recent check in: ${n.positionName} at ${n.localTime} on ${h} ${s}, ${r} (${n.departureTimezone})`}}async function Me(){return(await fetch(`${I()}/check-in-results`)).json()}const Be=()=>{const[n,t]=b.exports.useState(!1),[r,h]=b.exports.useState([]),[s,a]=b.exports.useState({});return b.exports.useEffect(async()=>{const u=await Me();u&&(h(u),u.sort(function(k,w){return new Date(w.checkInUTCString)-new Date(k.checkInUTCString)}),a(u[0]))},[]),n&&Object.keys(r).length!==0?e(m,{children:i(l,{textAlign:"center",children:[e(o,{fontSize:"14px",my:"10px",children:s&&J(s)}),e(z,{fontSize:"14px",size:"sm",onClick:()=>t(!1),children:"Hide past results"}),r&&e(Ae,{checkInResults:r})]})}):e(m,{children:i(l,{textAlign:"center",children:[e(o,{fontSize:"14px",my:"10px",children:s&&J(s)}),e(z,{fontSize:"14px",size:"sm",onClick:()=>t(!0),children:"See past results"})]})})},Re=()=>i(m,{children:[i(l,{px:"20px",mb:"100px",children:[e(R,{}),e(_e,{}),e(Be,{})]}),e(W,{})]}),We={initialColorMode:"dark",useSystemColorMode:!1},Ie=ue({config:We}),Le=()=>{const[n]=D("(min-width: 1000px)"),[t]=D("(min-width: 550px)");return e(m,{children:i(l,{w:"100vw",h:"100vh",positon:"relative",children:[e(R,{}),e(o,{textAlign:"center",children:"How it works"}),i(B,{maxW:"1000px",w:"100%",m:"auto",direction:n?"row":"column",spacing:"10px",px:"20px",mt:"50px",children:[i(B,{direction:t?"row":"column",spacing:"0px",w:n?"67%":"100%",children:[i(l,{w:"100%",h:"200px",children:[e(o,{fontSize:"18px",textAlign:"center",children:"1. User Inputs Data"}),e(g,{h:"15px"}),e(O,{h:"140px",w:"140px",m:"auto",textAlign:"center",align:"center",justify:"center",children:e(xe,{fontSize:"75px"})})]}),i(l,{w:"100%",h:"200px",children:[e(o,{fontSize:"18px",textAlign:"center",children:"2. Server schedules run"}),e(g,{h:"15px"}),e(O,{h:"140px",w:"140px",m:"auto",textAlign:"center",align:"center",justify:"center",children:e(me,{fontSize:"75px"})})]})]}),i(B,{direction:t?"row":"column",spacing:"0px",w:n?"33%":"100%",children:[i(l,{w:"100%",h:"200px",children:[e(o,{fontSize:"18px",textAlign:"center",children:"3. Server executes check in"}),e(g,{h:"15px"}),e(O,{h:"140px",w:"140px",m:"auto",textAlign:"center",align:"center",justify:"center",children:e(fe,{fontSize:"75px"})})]}),t&&!n?e(l,{w:"100%",h:"200px"}):e(m,{})]})]}),e(W,{})]})})},Oe=()=>e(l,{transform:"rotateZ(90deg)",children:i("svg",{x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",fill:v("#C3322C","#F5C14D"),children:[e("metadata",{children:" Svg Vector Icons : http://www.onlinewebfonts.com/icon "}),e("g",{children:e("g",{transform:"translate(0.000000,511.000000) scale(0.100000,-0.100000)",children:e("path",{d:"M4892.6,4970.8c-212.8-132.7-398.2-531-529-1134.2l-52.7-244l-7.8-1044.4l-7.8-1044.4L2196.7,256.2L100-993.2v-349.4v-349.5l54.7,11.7c978,214.7,4134.7,884.4,4140.6,878.5c3.9-3.9,171.8-1731.6,236.2-2442.2c0-1.9-277.2-214.7-614.9-474.4l-614.9-470.5v-302.6c0-279.2,2-302.6,35.1-292.8c117.1,37.1,1622.3,382.6,1663.3,382.6c41,0,1546.1-345.5,1665.2-382.6c31.3-9.7,33.2,13.7,33.2,292.8v302.6l-579.8,443.1c-320.1,242.1-597.4,456.8-614.9,474.4c-31.2,29.3-27.3,97.6,80,1247.4c62.5,669.6,117.1,1220.1,121,1222.1c3.9,3.9,942.9-193.3,2086.9-439.2s2084.9-447.1,2094.7-447.1c7.8,0,13.7,156.2,13.7,347.5v347.5L7803.3,256.2L5704.7,1503.7l-7.8,1044.4l-7.8,1044.4l-50.8,240.1c-105.4,478.3-253.8,853.1-404.1,1024.9C5101.5,5007.9,5003.9,5041,4892.6,4970.8z"})})})]})});function je(n){const t=new Date(n);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`}const De=({flightInfo:n})=>{console.log(n);const[t]=D("(min-width: 600px)");return e(A,{gap:t?"8px":"20px",children:n.flights.map((r,h)=>i(B,{direction:t?"row":"column",justify:"space-between",w:"100%",spacing:t?"0px":"12px",children:[i(y,{spacing:"30px",justify:"center",w:"100%",children:[e(o,{fontSize:"20px",children:r.fromCode}),e(l,{w:"30px",h:"30px",children:e(Oe,{})}),e(o,{fontSize:"20px",children:r.toCode})]}),i(y,{justify:"center",w:"100%",children:[e(o,{fontSize:"16px",children:r.departureTime}),e(o,{fontSize:"16px",children:je(r.date)})]})]},h))})},$e=({flightInfo:n})=>n?e(m,{children:i(A,{maxW:"800px",m:"auto",spacing:"16px",align:"left",children:[e(o,{mt:"80px",textAlign:"center",children:"Success"}),e(l,{h:"30px",w:"100px"}),i(A,{spacing:"0px",children:[e(y,{w:"100%",h:"15px",bg:"#C3322C",transform:"translateY(10px)",borderTopRadius:"15px",children:e(l,{h:"100%",w:"50%",bg:"#F5C14D",borderTopLeftRadius:"15px"})}),i(l,{w:"100%",py:"20px",borderWidth:"1px",borderRadius:"15px",children:[i(o,{fontSize:"16px",mt:"10px",mb:"20px",textAlign:"center",children:[n.firstName," ",n.lastName," (",n.confirmationNumber,")"]}),e(De,{flightInfo:n})]})]}),n.flights.map(t=>parseFloat(t.daysUntilFlight)<0?i(o,{mt:"30px",fontSize:"16px",children:["Your flight on ",t.date," already happened."]},Math.random()):parseFloat(t.daysUntilFlight)<1?i(o,{mt:"30px",fontSize:"16px",children:["We're checking you into your flight on ",t.date," right now."]},Math.random()):i(o,{mt:"30px",fontSize:"16px",children:["You'll be checked in at ",t.checkInTime]},Math.random()))]})}):e(o,{fontSize:"24px",mt:"50px",textAlign:"center",children:"Loading Data..."});function Pe(n){let t;return n||(t="This field is required"),t}const Ue=({flightInfo:n})=>{const t=V();return i(A,{maxW:"500px",w:"100%",m:"auto",spacing:"24px",align:"center",p:"25px",borderWidth:"1px",borderRadius:"15px",children:[e(o,{fontSize:"xl",children:"Feedback?"}),e(l,{w:"100%",children:e(Y,{initialValues:{feedback:""},onSubmit:(r,h)=>{console.log(r.feedback),h.setSubmitting(!1),fetch(`${I()}/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C(S({},r),{firstName:n.firstName,lastName:n.lastName}))}).then(s=>{h.setSubmitting(!1),h.resetForm(),t({title:"Success: Thanks for the feedback",status:"success",isClosable:!0})}).catch(s=>{console.log(s),h.setSubmitting(!1),t({title:"Error: Message not sent",status:"error",isClosable:!0})})},children:r=>i(q,{children:[e(_,{name:"feedback",validate:Pe,children:({field:h,form:s})=>e(N,{isInvalid:s.errors.feedback&&s.touched.feedback,children:e(ge,C(S({},h),{id:"feedback",placeholder:"Message me about feature requests, bug reports, or a story about how you found this website.",px:"10px",h:"35px",w:"100%",fontSize:"14px",_autofill:{textFillColor:v("rgb(26, 32, 44)","white"),boxShadow:"0 0 0px 1000px #00000000 inset",transition:"background-color 5000s ease-in-out 0s"}}))})}),e(g,{h:"24px"}),e(l,{align:"center",children:e(z,{type:"submit",bg:"#304BB3",color:"white",isLoading:r.isSubmitting,m:"auto",w:"150px",children:"Send Feedback"})})]})})})]})},Ee=()=>{const{state:n}=be(),t=n;return i(m,{children:[i(l,{px:"20px",position:"relative",children:[e(R,{}),e($e,{flightInfo:t}),e(g,{h:"100px"}),e(Ue,{flightInfo:t})]}),e(g,{h:"100px"}),e(W,{})]})};function j(n){let t=n[0].toUpperCase();for(const r of n.substring(1))t+="*";return t}async function He(){return(await fetch(`${I()}/upcoming-flights`)).json()}const Je=()=>{const[n,t]=b.exports.useState([]);return b.exports.useEffect(async()=>{const r=await He();r&&t(r)},[]),e(m,{children:i(l,{w:"100vw",h:"100vh",positon:"relative",children:[e(R,{}),e(o,{textAlign:"center",children:"Upcoming Flights"}),e(A,{h:"60px",maxW:"500px",m:"auto",px:"10px",mt:"30px",children:n.map((r,h)=>(j(r.firstName),i(y,{h:"30px",w:"100%",children:[e(o,{fontSize:"sm",children:r.date}),e(o,{fontSize:"sm",children:r.departureTime}),e(o,{fontSize:"sm",children:r.departureTimezone}),e(o,{fontSize:"sm",children:j(r.firstName)}),e(o,{fontSize:"sm",children:j(r.lastName)}),e(o,{fontSize:"sm",children:r.confirmationNumber})]},h)))}),e(W,{})]})})};we.render(e(Se.StrictMode,{children:e(ye,{theme:Ie,children:e(ke,{children:i(Ce,{children:[e(M,{path:"/",element:e(Re,{})}),e(M,{path:"/success",element:e(Ee,{})}),e(M,{path:"/about",element:e(Le,{})}),e(M,{path:"/upcoming-flights",element:e(Je,{})})]})})})}),document.getElementById("root"));
